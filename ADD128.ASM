; 编写一个子程序，对两个128位数据进行相加

ASSUME CS:CODE, DS:DATA, SS:STACK

DATA SEGMENT
	INT1	DB 16 DUP (18H)
	INT2	DB 16 DUP (38H)
DATA ENDS

STACK SEGMENT
	DB 128 DUP (0)
STACK ENDS

CODE SEGMENT
	START:
	MOV AX, DATA
	MOV DS, AX
	MOV AX, STACK
	MOV SS, AX
	MOV SP, 0080H

	MOV SI, OFFSET INT1
	MOV DI, OFFSET INT2
	CALL ADD128

	MOV AX, 4C00H
	INT 21H

	ADD128:
	PUSH AX
	PUSH CX
	PUSH SI
	PUSH DI
	
	SUB AX, AX	
	MOV CX, 0008H
	ADD128_S:
	MOV AX, [SI]
	ADC AX, [DI]
	MOV [SI], AX
	INC SI
	INC SI
	INC DI
	INC DI
	LOOP ADD128_S	
	
	POP DI
	POP SI
	POP CX
	POP AX
	RET
CODE ENDS
	END START


